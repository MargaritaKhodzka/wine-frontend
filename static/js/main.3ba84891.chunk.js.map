{"version":3,"sources":["components/WineInput.js","actions/addWine.js","components/Wines.js","components/Wine.js","actions/deleteWine.js","containers/WinesContainer.js","actions/fetchWines.js","App.js","index.js","reducers/wineReducer.js"],"names":["WineInput","state","date","Date","name","description","year","shop","price","n_rate","m_rate","handleChange","event","setState","target","value","onDateChange","handleSubmit","preventDefault","props","addWine","history","className","to","onSubmit","this","for","onChange","type","React","Component","connect","data","dispatch","fetch","headers","method","body","JSON","stringify","then","response","json","wine","payload","Wines","Table","responsive","wines","map","key","id","deleteWine","wineId","filter","match","params","dateFormat","onClick","push","WinesContainer","fetchWines","path","component","render","routerProps","action","App","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","filteredWines","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3ba84891.chunk.js","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport Calendar from 'react-calendar';\nimport {Link} from 'react-router-dom';\n\nimport {addWine} from '../actions/addWine';\n\nclass WineInput extends React.Component {\n\n  state = {\n    date: new Date(),\n    name: '',\n    description: '',\n    year: '',\n    shop: '',\n    price: '',\n    n_rate: '',\n    m_rate: '',\n  }\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  onDateChange = date => this.setState({date})\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const path = `/wines`;\n    this.props.addWine(this.state, this.props.history, path);\n    this.setState({\n      date: '',\n      name: '',\n      description: '',\n      year: '',\n      shop: '',\n      price: '',\n      n_rate: '',\n      m_rate: ''\n    })\n  }\n\n  render() {\n    return (\n      <div className = 'container'>\n        <div>\n          <Link className = 'largeButton' to='/'>Back to the wine list</Link>\n        </div>\n\n        <h3>New wine</h3>\n        <Form className = 'wineData' onSubmit = {this.handleSubmit}>\n          <FormGroup>\n            <Label for = 'date'>Date</Label>\n              <Calendar value = {this.state.date} name = 'date' onChange={this.onDateChange} />\n          </FormGroup>\n\n          <FormGroup>\n            <Label for = 'name'>Name</Label>\n            <Input type = 'text' value = {this.state.name} name = 'name' onChange={this.handleChange} />\n          </FormGroup>\n\n          <FormGroup>\n            <Label for = 'description'>Description</Label>\n            <Input type = 'select' value = {this.state.description} name = 'description' onChange={this.handleChange}>\n              <option>Select description</option>\n              <option>Brut</option>\n              <option>Orange - Light Skin Contact</option>\n              <option>Orange - Skin Contact</option>\n              <option>Red</option>\n              <option>Rose</option>\n              <option>White</option>\n              <option>White - Dry</option>\n              <option>White - Light Skin Contact</option>\n              <option>White - Unfiltered</option>\n            </Input>\n\n            <Label for='description' className = 'afterDropdown'>... or add new</Label>\n            <Input type = 'text' value = {this.state.description} name = 'description' onChange={this.handleChange} />\n          </FormGroup>\n\n          <FormGroup>\n            <Label for = 'year'>Year</Label>\n            <Input type = 'text' value = {this.state.year} name = 'year' onChange={this.handleChange} />\n          </FormGroup>\n\n          <FormGroup>\n            <Label for='shop'>Shop</Label>\n            <Input type = 'select' value = {this.state.shop} name = 'shop' onChange={this.handleChange}>\n              <option>Select shop</option>\n              <option>Amsterdam Wine Co</option>\n              <option>Astor Wine</option>\n              <option>Beacon Wines & Spirits</option>\n              <option>Discovery Wine</option>\n              <option>Enoteca LIC</option>\n              <option>Grape Collection</option>\n              <option>Hamilton Discount</option>\n              <option>Nolita Wine</option>\n              <option>Restaurant</option>\n            </Input>\n\n            <Label for = 'shop' className = 'afterDropdown'>... or add new</Label>\n            <Input type = 'text' value = {this.state.shop} name = 'shop' onChange={this.handleChange} />\n          </FormGroup>\n\n          <FormGroup>\n            <Label for = 'price'>Price</Label>\n            <Input type = 'text' value = {this.state.price} name = 'price' onChange={this.handleChange} />\n          </FormGroup>\n\n          <FormGroup>\n            <Label for = 'n_rate'>Nicolò</Label>\n            <Input type = 'text' value = {this.state.n_rate} name = 'n_rate' onChange={this.handleChange} />\n          </FormGroup>\n\n          <FormGroup>\n            <Label for = 'm_rate'>Margo</Label>\n            <Input type = 'text' value = {this.state.m_rate} name = 'm_rate' onChange={this.handleChange} />\n          </FormGroup>\n\n          <Button className = 'smallButton'>Add Wine</Button>\n        </Form>\n      </div>\n    )\n  }\n}\n\nexport default connect(null, {addWine})(WineInput);\n","export const addWine = data => {\n  return (dispatch) => {\n    fetch('http://localhost:3000/api/v1/wines', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify(data)\n    })\n    .then(response => response.json())\n    .then(wine => dispatch({\n      type: 'ADD_WINE',\n      payload: wine\n    }))\n  }\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport Table from 'react-bootstrap/Table';\n\nconst Wines = props => {\n  return (\n    <div className = 'container'>\n      <div>\n        <Link className = 'largeButton' to='/wines/new'>Add A New Wine</Link>\n      </div>\n\n      <Table responsive>\n        <thead>\n          <tr>\n            <th>Wine</th>\n            <th>Nicolò</th>\n            <th>Margo</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {props.wines.map(wine =>\n            <tr key={wine.id}>\n              <td><Link className = 'wineData' to={`/wines/${wine.id}`}>{wine.name}</Link></td>\n              <td className = 'rates'>{wine.n_rate}</td>\n              <td className = 'rates'>{wine.m_rate}</td>\n            </tr>\n          )}\n        </tbody>\n      </Table>\n    </div>\n  )\n}\n\nexport default Wines;\n","import React from 'react';\nimport Table from 'react-bootstrap/Table';\nimport dateFormat from \"dateformat\";\nimport {Link} from 'react-router-dom';\nimport { Button } from 'reactstrap';\nimport {connect} from 'react-redux';\n\nimport {deleteWine} from '../actions/deleteWine';\n\nconst Wine = props => {\n  let wine = props.wines.filter(wine => wine.id == props.match.params.id)[0];\n\n  const handleDelete = () => {\n    props.deleteWine(wine.id);\n    const path = `/wines`;\n    props.history.push(path);\n  }\n\n  return (\n    <div className = 'container'>\n      <div>\n        <Link className = 'largeButton' to='/'>Back to the wine list</Link>\n      </div>\n\n      <h3 className = 'showWine'>{wine && wine.name}</h3>\n      <Table className = 'wineData' responsive>\n        <tbody>\n          <tr>\n            <td>Date</td>\n            <td>{dateFormat(wine && wine.date, \"longDate\")}</td>\n          </tr>\n          <tr>\n            <td>Description</td>\n            <td>{wine && wine.description}</td>\n          </tr>\n          <tr>\n            <td>Year</td>\n            <td>{wine && wine.year}</td>\n          </tr>\n          <tr>\n            <td>Shop</td>\n            <td>{wine && wine.shop}</td>\n          </tr>\n          <tr>\n            <td>Price</td>\n            <td>${wine && wine.price}</td>\n          </tr>\n          <tr>\n            <td>Nicolò</td>\n            <td>{wine && wine.n_rate}</td>\n          </tr>\n          <tr>\n            <td>Margo</td>\n            <td>{wine && wine.m_rate}</td>\n          </tr>\n        </tbody>\n      </Table>\n      <Button className = 'smallButton' onClick={handleDelete}>delete</Button>\n\n    </div>\n  );\n}\n\nexport default connect(null, {deleteWine})(Wine);\n","export const deleteWine = wineId => {\n  return (dispatch) => {\n    fetch(`http://localhost:3000/api/v1/wines/${wineId}`, {\n      method: 'DELETE'\n    })\n    .then(response => response.json())\n    .then(wine => dispatch({\n      type: 'DELETE_WINE',\n      payload: wine.id\n    }))\n  }\n}\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {Route, Switch} from 'react-router-dom';\n\nimport {fetchWines} from '../actions/fetchWines';\nimport WineInput from '../components/WineInput';\nimport Wines from '../components/Wines';\nimport Wine from '../components/Wine';\n\nclass WinesContainer extends React.Component {\n\n  componentDidMount() {\n    this.props.fetchWines()\n  }\n\n  render() {\n    return (\n      <div>\n        <Switch>\n          <Route path='/wines/new' component={WineInput} />\n          <Route path='/wines/:id'  render={(routerProps) => <Wine {...routerProps} wines={this.props.wines} />} />\n          <Route path='/' render={(routerProps) => <Wines {...routerProps} wines={this.props.wines} />} />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    wines: state.wines\n  }\n}\n\nexport default connect(mapStateToProps, {fetchWines})(WinesContainer);\n","export const fetchWines = (action) => {\n  return (dispatch) => {\n    fetch('http://localhost:3000/api/v1/wines')\n    .then(response => response.json())\n    .then(wines => dispatch({\n      type: 'FETCH_WINES',\n      payload: wines\n    }))\n  }\n}\n","import React from 'react';\nimport WinesContainer from './containers/WinesContainer';\n\nclass App extends React.Component {\n\n  render() {\n    return (\n      <div className=\"App\">\n        <WinesContainer/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport {createStore, applyMiddleware, compose} from 'redux';\nimport thunk from 'redux-thunk';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nimport App from './App';\nimport wineReducer from './reducers/wineReducer';\nimport './index.css';\nimport 'react-calendar/dist/Calendar.css';\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nlet store = createStore(wineReducer, composeEnhancers(applyMiddleware(thunk)));\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n);\n","export default function wineReducer(state = {wines: []}, action) {\n  switch (action.type) {\n    case 'FETCH_WINES':\n      return {wines: action.payload};\n\n    case 'ADD_WINE':\n      return {...state, wines: [...state.wines, action.payload]};\n\n    case 'DELETE_WINE':\n      const filteredWines = state.wines.filter(wine => wine.id !== action.payload);\n      return {...state, wines: filteredWines};\n\n    default:\n      return state;\n  }\n}\n"],"sourceRoot":""}